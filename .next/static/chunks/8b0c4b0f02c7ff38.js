(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53349,e=>{"use strict";var t=e.i(47167),l=e.i(43476),a=e.i(71645);let s=t.default.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:5001";function r(){let[e,t]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0),[n,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)({}),[m,u]=(0,a.useState)(""),[x,g]=(0,a.useState)(""),h=localStorage.getItem("token");(0,a.useEffect)(()=>{if(!h){window.location.href="/login";return}f()},[h]);let f=async()=>{try{let e=localStorage.getItem("user");if(e){let l=JSON.parse(e);t(l),c(l)}}catch(e){u("Failed to load profile")}finally{i(!1)}},b=async e=>{e.preventDefault(),u(""),g("");try{let e=await fetch(`${s}/api/users/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify(d)});if(!e.ok)throw Error("Failed to update profile");let l=await e.json();t(l),localStorage.setItem("user",JSON.stringify(l)),g("Profile updated successfully!"),o(!1)}catch(e){u(e.message)}};return r?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsx)("div",{className:"text-lg text-gray-600",children:"Loading profile..."})}):(0,l.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Profile"}),(0,l.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your account settings"})]}),m&&(0,l.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg",children:m}),x&&(0,l.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg",children:x}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-md p-8",children:n?(0,l.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,l.jsx)("input",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",type:"text",value:d.name||"",onChange:e=>c({...d,name:e.target.value})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,l.jsx)("input",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",type:"email",value:d.email||"",onChange:e=>c({...d,email:e.target.value})})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition",children:"Save Changes"}),(0,l.jsx)("button",{type:"button",onClick:()=>{o(!1),c(e)},className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg font-medium hover:bg-gray-300 transition",children:"Cancel"})]})]}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Full Name"}),(0,l.jsx)("p",{className:"text-lg text-gray-900 mt-1",children:e?.name||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Email"}),(0,l.jsx)("p",{className:"text-lg text-gray-900 mt-1",children:e?.email||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Role"}),(0,l.jsx)("p",{className:"text-lg text-gray-900 mt-1 capitalize",children:e?.role?.toLowerCase()||"User"})]}),(0,l.jsx)("button",{onClick:()=>o(!0),className:"w-full bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700 transition",children:"Edit Profile"})]})})]})}e.s(["default",()=>r])}]);