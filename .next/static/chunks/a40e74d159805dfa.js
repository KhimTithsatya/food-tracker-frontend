(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82645,e=>{"use strict";var t=e.i(47167),s=e.i(43476),a=e.i(71645);let l=t.default.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:5001";function r(){let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[d,c]=(0,a.useState)(""),n=localStorage.getItem("token");(0,a.useEffect)(()=>{if(!n){window.location.href="/login";return}o()},[n]);let o=async()=>{try{let e=await fetch(`${l}/api/meals`,{headers:{Authorization:`Bearer ${n}`}}),s=await e.json();t(Array.isArray(s)?s:[])}catch(e){c("Failed to load meals"),console.error(e)}finally{i(!1)}},m=async s=>{if(confirm("Delete this meal?"))try{if(!(await fetch(`${l}/api/meals/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}})).ok)throw Error("Failed to delete");t(e.filter(e=>e.id!==s))}catch(e){c(e.message)}};return r?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"text-lg text-gray-600",children:"Loading meals..."})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Meals"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Track your daily meals and calories"})]}),d&&(0,s.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg",children:d}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===e.length?(0,s.jsx)("div",{className:"col-span-full bg-white rounded-lg shadow-md p-8 text-center text-gray-600",children:(0,s.jsx)("p",{className:"text-lg",children:"No meals tracked yet. Start logging your meals!"})}):e.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:new Date(e.date).toLocaleDateString()})]}),(0,s.jsx)("button",{onClick:()=>m(e.id),className:"text-red-600 hover:text-red-800 font-medium text-sm",children:"Delete"})]}),(0,s.jsxs)("div",{className:"space-y-2 border-t pt-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Calories:"}),(0,s.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.calories||0," kcal"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Protein:"}),(0,s.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.protein||0,"g"]})]})]})]},e.id))})]})}e.s(["default",()=>r])}]);