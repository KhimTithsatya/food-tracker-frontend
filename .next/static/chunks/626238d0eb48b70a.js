(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95973,e=>{"use strict";var t=e.i(47167),s=e.i(43476),a=e.i(71645);let l=t.default.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:5001";function r(){let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[d,c]=(0,a.useState)(""),o=localStorage.getItem("token");(0,a.useEffect)(()=>{if(!o){window.location.href="/login";return}n()},[o]);let n=async()=>{try{let e=await fetch(`${l}/api/meals`,{headers:{Authorization:`Bearer ${o}`}}),s=await e.json();t(Array.isArray(s)?s:[])}catch(e){c("Failed to load meals"),console.error(e)}finally{i(!1)}},x=async s=>{if(confirm("Delete this meal?"))try{if(!(await fetch(`${l}/api/meals/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`}})).ok)throw Error("Failed to delete");t(e.filter(e=>e.id!==s))}catch(e){c(e.message)}};return r?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"text-lg text-gray-600",children:"Loading meals..."})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Meals"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"All tracked meals across the platform"})]}),d&&(0,s.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg",children:d}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:0===e.length?(0,s.jsx)("div",{className:"p-8 text-center text-gray-600",children:(0,s.jsx)("p",{className:"text-lg",children:"No meals tracked yet."})}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Meal Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Calories"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y",children:e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition",children:[(0,s.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.name}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.date).toLocaleDateString()}),(0,s.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600",children:[e.calories||0," kcal"]}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,s.jsx)("button",{onClick:()=>x(e.id),className:"text-red-600 hover:text-red-800 font-medium",children:"Delete"})})]},e.id))})]})})})]})}e.s(["default",()=>r])}]);