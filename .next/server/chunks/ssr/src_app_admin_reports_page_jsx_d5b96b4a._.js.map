{"version":3,"sources":["../../../../src/app/admin/reports/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\nconst API_BASE = process.env.NEXT_PUBLIC_BACKEND_URL || \"http://localhost:5001\";\n\nexport default function AdminReportsPage() {\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const token =\n    typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n\n  useEffect(() => {\n    if (!token) {\n      window.location.href = \"/login\";\n      return;\n    }\n\n    fetchStats();\n  }, [token]);\n\n  const fetchStats = async () => {\n    try {\n      const [usersRes, foodsRes, mealsRes] = await Promise.all([\n        fetch(`${API_BASE}/api/users`, {\n          headers: { Authorization: `Bearer ${token}` },\n        }),\n        fetch(`${API_BASE}/api/foods`, {\n          headers: { Authorization: `Bearer ${token}` },\n        }),\n        fetch(`${API_BASE}/api/meals`, {\n          headers: { Authorization: `Bearer ${token}` },\n        }),\n      ]);\n\n      const users = await usersRes.json();\n      const foods = await foodsRes.json();\n      const meals = await mealsRes.json();\n\n      setStats({\n        users: Array.isArray(users) ? users.length : 0,\n        foods: Array.isArray(foods) ? foods.length : 0,\n        meals: Array.isArray(meals) ? meals.length : 0,\n      });\n    } catch (error) {\n      console.error(\"Failed to fetch stats:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-lg text-gray-600\">Loading reports...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-3xl font-bold text-gray-900\">Reports</h1>\n        <p className=\"text-gray-600 mt-2\">System statistics and analytics</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-600\">\n          <h3 className=\"text-sm font-semibold text-gray-600 mb-2 uppercase\">Total Users</h3>\n          <p className=\"text-3xl font-bold text-blue-600\">{stats?.users || 0}</p>\n        </div>\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-600\">\n          <h3 className=\"text-sm font-semibold text-gray-600 mb-2 uppercase\">Total Foods</h3>\n          <p className=\"text-3xl font-bold text-green-600\">{stats?.foods || 0}</p>\n        </div>\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-600\">\n          <h3 className=\"text-sm font-semibold text-gray-600 mb-2 uppercase\">Total Meals</h3>\n          <p className=\"text-3xl font-bold text-purple-600\">{stats?.meals || 0}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OAIe,SAAS,IACtB,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAC7B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,SA4CvC,CAvCA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAEN,OAAO,QAAQ,CAAC,IAAI,CAAG,QAK3B,EAAG,CAT+D,KASxD,EAgCN,GAEA,CAAA,EAAA,EAAA,CAFS,EAET,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,yBAM3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,YACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAqB,uCAGpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8DAAqD,gBACnE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAoC,GAAO,OAAS,OAEnE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8DAAqD,gBACnE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAqC,GAAO,OAAS,OAEpE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2EACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8DAAqD,gBACnE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAsC,GAAO,OAAS,YAK7E,CA/EiB,QAAQ,GAAG,CAAC,uBAAuB,IAAI"}