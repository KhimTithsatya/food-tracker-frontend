{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../src/app/%28user%29/layout.jsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\n\nexport default function UserLayout({ children }) {\n  const [ready, setReady] = useState(false);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const role = localStorage.getItem(\"role\");\n    const userData = localStorage.getItem(\"user\");\n\n    if (!token) {\n      window.location.href = \"/login\";\n      return;\n    }\n\n    if (String(role || \"\").toUpperCase() === \"ADMIN\") {\n      window.location.href = \"/admin\";\n      return;\n    }\n\n    try {\n      setUser(JSON.parse(userData || \"{}\"));\n    } catch {\n      setUser(null);\n    }\n\n    setReady(true);\n  }, []);\n\n  if (!ready) return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\n\n  const handleLogout = () => {\n    localStorage.clear();\n    window.location.href = \"/login\";\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <nav className=\"bg-white shadow\">\n        <div className=\"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center\">\n          <h1 className=\"text-2xl font-bold text-blue-600\">Food Tracker</h1>\n          <div className=\"flex gap-4 items-center\">\n            <Link href=\"/dashboard\" className=\"px-3 py-2 text-gray-700 hover:bg-gray-100 rounded\">\n              Dashboard\n            </Link>\n            <Link href=\"/meals\" className=\"px-3 py-2 text-gray-700 hover:bg-gray-100 rounded\">\n              Meals\n            </Link>\n            <Link href=\"/foods\" className=\"px-3 py-2 text-gray-700 hover:bg-gray-100 rounded\">\n              Foods\n            </Link>\n            <Link href=\"/profile\" className=\"px-3 py-2 text-gray-700 hover:bg-gray-100 rounded\">\n              Profile\n            </Link>\n            <span className=\"text-sm text-gray-600 px-3\">{user?.name || \"User\"}</span>\n            <button\n              onClick={handleLogout}\n              className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\n            >\n              Logout\n            </button>\n          </div>\n        </div>\n      </nav>\n      <main className=\"max-w-7xl mx-auto px-4 py-8\">\n        {children}\n      </main>\n    </div>\n  );\n}"],"names":["module","exports","require","vendored","AppRouterContext","ReactServerDOMTurbopackClient"],"mappings":"4CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,gBAAgB,+BCFvCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEE,6BAA6B,yCCAtD,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,EAAW,UAAE,CAAQ,CAAE,EAC7C,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7B,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,YA0BjC,CAxBA,CAAA,EAAA,AAwBI,EAxBJ,SAAA,AAAS,EAAC,KACR,IAAM,EAAQ,aAAa,OAAO,CAAC,SAC7B,EAAO,aAAa,OAAO,CAAC,QAC5B,EAAW,aAAa,OAAO,CAAC,QAEtC,GAAI,CAAC,EAAO,CACV,OAAO,QAAQ,CAAC,IAAI,CAAG,SACvB,MACF,CAEA,GAAyC,UAArC,OAAO,GAAQ,IAAI,WAAW,GAAgB,CAChD,OAAO,QAAQ,CAAC,IAAI,CAAG,SACvB,MACF,CAEA,GAAI,CACF,EAAQ,KAAK,KAAK,CAAC,GAAY,MACjC,CAAE,KAAM,CACN,EAAQ,KACV,CAEA,GAAS,EACX,EAAG,EAAE,EAEA,GAQH,CAAA,EAAA,CARU,CAQV,IAAA,EAAC,MAAA,CAAI,UAAU,qCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4CAAmC,iBACjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,aAAa,UAAU,6DAAoD,cAGtF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,SAAS,UAAU,6DAAoD,UAGlF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,SAAS,UAAU,6DAAoD,UAGlF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,WAAW,UAAU,6DAAoD,YAGpF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sCAA8B,GAAM,MAAQ,SAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAzBS,CAyBA,IAxBnB,aAAa,KAAK,GAClB,OAAO,QAAQ,CAAC,IAAI,CAAG,QACzB,EAuBY,UAAU,oEACX,mBAMP,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCACb,OApCY,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDAAgD,cAwCpF","ignoreList":[0,1]}