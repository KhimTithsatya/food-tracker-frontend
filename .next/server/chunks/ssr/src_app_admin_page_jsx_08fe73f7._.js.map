{"version":3,"sources":["../../../../src/app/admin/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\nexport default function AdminDashboard() {\n  const [stats, setStats] = useState({\n    users: 0,\n    foods: 0,\n    meals: 0,\n  });\n  const [loading, setLoading] = useState(true);\n\n  const token =\n    typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n\n  useEffect(() => {\n    if (!token) {\n      window.location.href = \"/login\";\n      return;\n    }\n\n    fetchStats();\n  }, [token]);\n\n  const fetchStats = async () => {\n    try {\n      const [usersRes, foodsRes, mealsRes] = await Promise.all([\n        fetch(\"http://localhost:5001/api/users\", {\n          headers: { Authorization: `Bearer ${token}` },\n        }),\n        fetch(\"http://localhost:5001/api/foods\", {\n          headers: { Authorization: `Bearer ${token}` },\n        }),\n        fetch(\"http://localhost:5001/api/meals\", {\n          headers: { Authorization: `Bearer ${token}` },\n        }),\n      ]);\n\n      const users = await usersRes.json();\n      const foods = await foodsRes.json();\n      const meals = await mealsRes.json();\n\n      setStats({\n        users: Array.isArray(users) ? users.length : 0,\n        foods: Array.isArray(foods) ? foods.length : 0,\n        meals: Array.isArray(meals) ? meals.length : 0,\n      });\n    } catch (error) {\n      console.error(\"Failed to fetch stats:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading)\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        Loading dashboard...\n      </div>\n    );\n\n  return (\n    <div>\n      <h1 className=\"text-3xl font-bold mb-8\">Dashboard</h1>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"bg-white rounded-lg shadow p-6 border-l-4 border-blue-600\">\n          <h3 className=\"text-gray-600 text-sm font-semibold mb-2\">Users</h3>\n          <p className=\"text-4xl font-bold text-blue-600\">{stats.users}</p>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-6 border-l-4 border-green-600\">\n          <h3 className=\"text-gray-600 text-sm font-semibold mb-2\">Foods</h3>\n          <p className=\"text-4xl font-bold text-green-600\">{stats.foods}</p>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-6 border-l-4 border-purple-600\">\n          <h3 className=\"text-gray-600 text-sm font-semibold mb-2\">Meals</h3>\n          <p className=\"text-4xl font-bold text-purple-600\">{stats.meals}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACjC,MAAO,EACP,MAAO,EACP,MAAO,CACT,GACM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,SA4CvC,CAvCA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAEN,OAAO,QAAQ,CAAC,IAAI,CAAG,QAK3B,EAAG,CAT+D,KASxD,EAgCN,GAEA,CAAA,EAAA,EAAA,CADF,EACE,EAAC,MAAA,CAAI,UAAU,yDAAgD,yBAMjE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,cACxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,UACzD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAoC,EAAM,KAAK,MAE9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,UACzD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAqC,EAAM,KAAK,MAE/D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oDAA2C,UACzD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAsC,EAAM,KAAK,WAKxE"}