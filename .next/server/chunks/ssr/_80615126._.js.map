{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../src/app/register/page.jsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","\"use client\";\n\nimport Link from \"next/link\";\nimport { useState } from \"react\";\nimport { signIn } from \"next-auth/react\";\n\nconst API_BASE = process.env.NEXT_PUBLIC_BACKEND_URL || \"http://localhost:5001\";\n\nexport default function RegisterPage() {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [ok, setOk] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    setOk(\"\");\n    setLoading(true);\n\n    try {\n      const res = await fetch(`${API_BASE}/api/auth/register`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ name, email, password }),\n      });\n\n      const data = await res.json().catch(() => ({}));\n\n      if (!res.ok) {\n        setError(data?.message || \"Register failed. (Your backend may not have /api/auth/register yet.)\");\n        return;\n      }\n\n      setOk(\"Account created! Logging you in...\");\n      // auto login\n      const loginRes = await signIn(\"credentials\", { redirect: false, email, password });\n      if (loginRes?.error) {\n        window.location.href = \"/login\";\n        return;\n      }\n      window.location.href = \"/user/dashboard\";\n    } catch (err) {\n      console.error(err);\n      setError(\"Server not responding\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSocial = async (provider) => {\n    setError(\"\");\n    const result = await signIn(provider, { callbackUrl: \"/user/dashboard\" });\n    if (result?.error) setError(\"Social login failed or not configured.\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 flex items-center justify-center p-6\">\n      <div className=\"w-full max-w-md rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-2xl p-6\">\n        <div className=\"mb-6\">\n          <h1 className=\"text-2xl font-bold text-white\">Create your account</h1>\n          <p className=\"text-sm text-white/70 mt-1\">Register to start tracking meals.</p>\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-3\">\n          <button\n            type=\"button\"\n            onClick={() => handleSocial(\"google\")}\n            className=\"rounded-xl bg-white/10 hover:bg-white/15 text-white px-4 py-3 border border-white/10 transition\"\n          >\n            Google\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => handleSocial(\"github\")}\n            className=\"rounded-xl bg-white/10 hover:bg-white/15 text-white px-4 py-3 border border-white/10 transition\"\n          >\n            GitHub\n          </button>\n        </div>\n\n        <div className=\"flex items-center gap-3 my-6\">\n          <div className=\"h-px bg-white/10 flex-1\" />\n          <span className=\"text-xs text-white/60\">or register with email</span>\n          <div className=\"h-px bg-white/10 flex-1\" />\n        </div>\n\n        {error && (\n          <div className=\"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-200 mb-4\">\n            {error}\n          </div>\n        )}\n\n        {ok && (\n          <div className=\"rounded-xl border border-green-500/30 bg-green-500/10 px-4 py-3 text-sm text-green-200 mb-4\">\n            {ok}\n          </div>\n        )}\n\n        <form onSubmit={handleRegister} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <label className=\"text-sm text-white/80\">Name</label>\n            <input\n              className=\"w-full rounded-xl bg-black/30 border border-white/10 text-white px-4 py-3 outline-none focus:ring-2 focus:ring-white/20\"\n              placeholder=\"Your name\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              required\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <label className=\"text-sm text-white/80\">Email</label>\n            <input\n              className=\"w-full rounded-xl bg-black/30 border border-white/10 text-white px-4 py-3 outline-none focus:ring-2 focus:ring-white/20\"\n              placeholder=\"you@example.com\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <label className=\"text-sm text-white/80\">Password</label>\n            <input\n              className=\"w-full rounded-xl bg-black/30 border border-white/10 text-white px-4 py-3 outline-none focus:ring-2 focus:ring-white/20\"\n              type=\"password\"\n              placeholder=\"••••••••\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n          </div>\n\n          <button\n            disabled={loading}\n            className=\"w-full rounded-xl bg-indigo-500 hover:bg-indigo-400 text-white px-4 py-3 font-semibold transition disabled:opacity-60\"\n          >\n            {loading ? \"Creating...\" : \"Create account\"}\n          </button>\n        </form>\n\n        <p className=\"text-sm text-white/70 mt-6\">\n          Already have an account?{\" \"}\n          <Link className=\"text-white underline\" href=\"/login\">\n            Sign in\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1]}