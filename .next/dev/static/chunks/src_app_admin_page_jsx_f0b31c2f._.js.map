{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/khimtithsatya/Food-tracker-app/frontend/src/app/admin/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\nexport default function AdminDashboard() {\n  const [stats, setStats] = useState({\n    users: 0,\n    foods: 0,\n    meals: 0,\n  });\n  const [loading, setLoading] = useState(true);\n\n  const token =\n    typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n\n  useEffect(() => {\n    if (!token) {\n      window.location.href = \"/login\";\n      return;\n    }\n\n    fetchStats();\n  }, [token]);\n\n  const fetchStats = async () => {\n    try {\n      const [usersRes, foodsRes, mealsRes] = await Promise.all([\n        fetch(\"http://localhost:5001/api/users\", {\n          headers: { Authorization: `Bearer ${token}` },\n        }),\n        fetch(\"http://localhost:5001/api/foods\", {\n          headers: { Authorization: `Bearer ${token}` },\n        }),\n        fetch(\"http://localhost:5001/api/meals\", {\n          headers: { Authorization: `Bearer ${token}` },\n        }),\n      ]);\n\n      const users = await usersRes.json();\n      const foods = await foodsRes.json();\n      const meals = await mealsRes.json();\n\n      setStats({\n        users: Array.isArray(users) ? users.length : 0,\n        foods: Array.isArray(foods) ? foods.length : 0,\n        meals: Array.isArray(meals) ? meals.length : 0,\n      });\n    } catch (error) {\n      console.error(\"Failed to fetch stats:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading)\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        Loading dashboard...\n      </div>\n    );\n\n  return (\n    <div>\n      <h1 className=\"text-3xl font-bold mb-8\">Dashboard</h1>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"bg-white rounded-lg shadow p-6 border-l-4 border-blue-600\">\n          <h3 className=\"text-gray-600 text-sm font-semibold mb-2\">Users</h3>\n          <p className=\"text-4xl font-bold text-blue-600\">{stats.users}</p>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-6 border-l-4 border-green-600\">\n          <h3 className=\"text-gray-600 text-sm font-semibold mb-2\">Foods</h3>\n          <p className=\"text-4xl font-bold text-green-600\">{stats.foods}</p>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-6 border-l-4 border-purple-600\">\n          <h3 className=\"text-gray-600 text-sm font-semibold mb-2\">Meals</h3>\n          <p className=\"text-4xl font-bold text-purple-600\">{stats.meals}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;QACjC,OAAO;QACP,OAAO;QACP,OAAO;IACT;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,QACJ,uCAAgC,aAAa,OAAO,CAAC,WAAW;IAElE,IAAA,0KAAS;oCAAC;YACR,IAAI,CAAC,OAAO;gBACV,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACvB;YACF;YAEA;QACF;mCAAG;QAAC;KAAM;IAEV,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,CAAC,UAAU,UAAU,SAAS,GAAG,MAAM,QAAQ,GAAG,CAAC;gBACvD,MAAM,mCAAmC;oBACvC,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAC9C;gBACA,MAAM,mCAAmC;oBACvC,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAC9C;gBACA,MAAM,mCAAmC;oBACvC,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAC9C;aACD;YAED,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,QAAQ,MAAM,SAAS,IAAI;YAEjC,SAAS;gBACP,OAAO,MAAM,OAAO,CAAC,SAAS,MAAM,MAAM,GAAG;gBAC7C,OAAO,MAAM,OAAO,CAAC,SAAS,MAAM,MAAM,GAAG;gBAC7C,OAAO,MAAM,OAAO,CAAC,SAAS,MAAM,MAAM,GAAG;YAC/C;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,SACF,qBACE,6LAAC;QAAI,WAAU;kBAAgD;;;;;;IAKnE,qBACE,6LAAC;;0BACC,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA2C;;;;;;0CACzD,6LAAC;gCAAE,WAAU;0CAAoC,MAAM,KAAK;;;;;;;;;;;;kCAE9D,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA2C;;;;;;0CACzD,6LAAC;gCAAE,WAAU;0CAAqC,MAAM,KAAK;;;;;;;;;;;;kCAE/D,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA2C;;;;;;0CACzD,6LAAC;gCAAE,WAAU;0CAAsC,MAAM,KAAK;;;;;;;;;;;;;;;;;;;;;;;;AAKxE;GA5EwB;KAAA"}}]
}