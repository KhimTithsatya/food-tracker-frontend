{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/khimtithsatya/Food-tracker-app/frontend/src/app/admin/layout.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\n\nexport default function AdminLayout({ children }) {\n  const [ready, setReady] = useState(false);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const role = localStorage.getItem(\"role\");\n    const userData = localStorage.getItem(\"user\");\n\n    if (!token) {\n      window.location.href = \"/login\";\n      return;\n    }\n\n    if (role !== \"ADMIN\") {\n      window.location.href = \"/user/dashboard\";\n      return;\n    }\n\n    try {\n      setUser(JSON.parse(userData || \"{}\"));\n    } catch {\n      setUser(null);\n    }\n\n    setReady(true);\n  }, []);\n\n  if (!ready) return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\n\n  const handleLogout = () => {\n    localStorage.clear();\n    window.location.href = \"/login\";\n  };\n\n  return (\n    <div className=\"min-h-screen flex bg-gray-100\">\n      <aside className=\"w-64 bg-white border-r border-gray-200 shadow-sm\">\n        <div className=\"p-6\">\n          <h2 className=\"text-2xl font-bold text-blue-600 mb-8\">Food Tracker</h2>\n          <nav className=\"space-y-2\">\n            <Link\n              href=\"/admin\"\n              className=\"block px-4 py-2 text-gray-700 hover:bg-blue-50 rounded font-medium\"\n            >\n              Dashboard\n            </Link>\n            <Link\n              href=\"/admin/foods\"\n              className=\"block px-4 py-2 text-gray-700 hover:bg-blue-50 rounded\"\n            >\n              Foods\n            </Link>\n            <Link\n              href=\"/admin/meals\"\n              className=\"block px-4 py-2 text-gray-700 hover:bg-blue-50 rounded\"\n            >\n              Meals\n            </Link>\n            <Link\n              href=\"/admin/users\"\n              className=\"block px-4 py-2 text-gray-700 hover:bg-blue-50 rounded\"\n            >\n              Users\n            </Link>\n            <Link\n              href=\"/admin/reports\"\n              className=\"block px-4 py-2 text-gray-700 hover:bg-blue-50 rounded\"\n            >\n              Reports\n            </Link>\n            <Link\n              href=\"/admin/settings\"\n              className=\"block px-4 py-2 text-gray-700 hover:bg-blue-50 rounded\"\n            >\n              Settings\n            </Link>\n          </nav>\n        </div>\n        <div className=\"absolute bottom-0 left-0 right-0 p-6 border-t bg-white\">\n          <p className=\"text-sm text-gray-600 mb-4\">Admin: {user?.name || \"User\"}</p>\n          <button\n            onClick={handleLogout}\n            className=\"w-full px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm font-medium\"\n          >\n            Logout\n          </button>\n        </div>\n      </aside>\n      <main className=\"flex-1\">\n        <div className=\"bg-white border-b border-gray-200 p-6 shadow-sm\">\n          <h1 className=\"text-3xl font-bold text-gray-800\">Admin Panel</h1>\n        </div>\n        <div className=\"p-6\">\n          {children}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,YAAY,EAAE,QAAQ,EAAE;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,MAAM,OAAO,aAAa,OAAO,CAAC;QAClC,MAAM,WAAW,aAAa,OAAO,CAAC;QAEtC,IAAI,CAAC,OAAO;YACV,OAAO,QAAQ,CAAC,IAAI,GAAG;YACvB;QACF;QAEA,IAAI,SAAS,SAAS;YACpB,OAAO,QAAQ,CAAC,IAAI,GAAG;YACvB;QACF;QAEA,IAAI;YACF,QAAQ,KAAK,KAAK,CAAC,YAAY;QACjC,EAAE,OAAM;YACN,QAAQ;QACV;QAEA,SAAS;IACX,GAAG,EAAE;IAEL,IAAI,CAAC,OAAO,qBAAO,8OAAC;QAAI,WAAU;kBAAgD;;;;;;IAElF,MAAM,eAAe;QACnB,aAAa,KAAK;QAClB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,uKAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;kDAGD,8OAAC,uKAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;kDAGD,8OAAC,uKAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;kDAGD,8OAAC,uKAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;kDAGD,8OAAC,uKAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;kDAGD,8OAAC,uKAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;;;;;;;kCAKL,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;;oCAA6B;oCAAQ,MAAM,QAAQ;;;;;;;0CAChE,8OAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;;;;;;;0BAKL,8OAAC;gBAAK,WAAU;;kCACd,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;;;;;;kCAEnD,8OAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;;;;;;;;AAKX"}}]
}