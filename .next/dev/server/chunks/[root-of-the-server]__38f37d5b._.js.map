{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/khimtithsatya/Food-tracker-app/frontend/src/app/api/auth/%5B...nextauth%5D/route.js"],"sourcesContent":["import NextAuth from \"next-auth\";\nimport GoogleProvider from \"next-auth/providers/google\";\nimport GitHubProvider from \"next-auth/providers/github\";\nimport CredentialsProvider from \"next-auth/providers/credentials\";\n\nfunction isReal(value) {\n  return value && !String(value).startsWith(\"YOUR_\");\n}\n\nconst providers = [];\n\n// Social providers only if configured\nif (isReal(process.env.GOOGLE_CLIENT_ID) && isReal(process.env.GOOGLE_CLIENT_SECRET)) {\n  providers.push(\n    GoogleProvider({\n      clientId: process.env.GOOGLE_CLIENT_ID,\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n    })\n  );\n}\n\nif (isReal(process.env.GITHUB_CLIENT_ID) && isReal(process.env.GITHUB_CLIENT_SECRET)) {\n  providers.push(\n    GitHubProvider({\n      clientId: process.env.GITHUB_CLIENT_ID,\n      clientSecret: process.env.GITHUB_CLIENT_SECRET,\n    })\n  );\n}\n\n// Credentials provider (email/password -> your backend)\nproviders.push(\n  CredentialsProvider({\n    name: \"Credentials\",\n    credentials: {\n      email: { label: \"Email\", type: \"email\" },\n      password: { label: \"Password\", type: \"password\" },\n    },\n    async authorize(credentials) {\n      const res = await fetch(`${process.env.BACKEND_URL || \"http://localhost:5001\"}/api/auth/login`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          email: credentials?.email,\n          password: credentials?.password,\n        }),\n      });\n\n      const data = await res.json();\n      if (!res.ok) return null;\n\n      return {\n        ...data.user,\n        backendToken: data.token,\n      };\n    },\n  })\n);\n\nconst handler = NextAuth({\n  session: { strategy: \"jwt\" },\n  providers,\n  callbacks: {\n    async jwt({ token, user }) {\n      if (user) token.user = user;\n      return token;\n    },\n    async session({ session, token }) {\n      session.user = token.user;\n      return session;\n    },\n  },\n  pages: {\n    signIn: \"/login\",\n  },\n});\n\nexport { handler as GET, handler as POST };\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA,SAAS,OAAO,KAAK;IACnB,OAAO,SAAS,CAAC,OAAO,OAAO,UAAU,CAAC;AAC5C;AAEA,MAAM,YAAY,EAAE;AAEpB,sCAAsC;AACtC,IAAI,OAAO,QAAQ,GAAG,CAAC,gBAAgB,KAAK,OAAO,QAAQ,GAAG,CAAC,oBAAoB,GAAG;IACpF,UAAU,IAAI,CACZ,IAAA,gKAAc,EAAC;QACb,UAAU,QAAQ,GAAG,CAAC,gBAAgB;QACtC,cAAc,QAAQ,GAAG,CAAC,oBAAoB;IAChD;AAEJ;AAEA,IAAI,OAAO,QAAQ,GAAG,CAAC,gBAAgB,KAAK,OAAO,QAAQ,GAAG,CAAC,oBAAoB,GAAG;IACpF,UAAU,IAAI,CACZ,IAAA,gKAAc,EAAC;QACb,UAAU,QAAQ,GAAG,CAAC,gBAAgB;QACtC,cAAc,QAAQ,GAAG,CAAC,oBAAoB;IAChD;AAEJ;AAEA,wDAAwD;AACxD,UAAU,IAAI,CACZ,IAAA,qKAAmB,EAAC;IAClB,MAAM;IACN,aAAa;QACX,OAAO;YAAE,OAAO;YAAS,MAAM;QAAQ;QACvC,UAAU;YAAE,OAAO;YAAY,MAAM;QAAW;IAClD;IACA,MAAM,WAAU,WAAW;QACzB,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,GAAG,CAAC,WAAW,IAAI,wBAAwB,eAAe,CAAC,EAAE;YAC9F,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB,OAAO,aAAa;gBACpB,UAAU,aAAa;YACzB;QACF;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;QAEpB,OAAO;YACL,GAAG,KAAK,IAAI;YACZ,cAAc,KAAK,KAAK;QAC1B;IACF;AACF;AAGF,MAAM,UAAU,IAAA,kJAAQ,EAAC;IACvB,SAAS;QAAE,UAAU;IAAM;IAC3B;IACA,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM,MAAM,IAAI,GAAG;YACvB,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,QAAQ,IAAI,GAAG,MAAM,IAAI;YACzB,OAAO;QACT;IACF;IACA,OAAO;QACL,QAAQ;IACV;AACF"}}]
}